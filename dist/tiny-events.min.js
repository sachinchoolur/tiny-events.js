/**
 * tiny-events.js | 0.0.1 | August 2nd 2021
 *
 * Copyright (c) 2020 Sachin Neravath
 * @license MIT
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).tinyEvents=e()}(this,(function(){"use strict";!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}}();var t=function(){function t(e){return this.elements=t.getSelector(e),this.element=this.getFirstEl(),this}return t.getIdFromSelector=function(t){var e=t.split(" "),n=e[e.length-1];if("#"===n.substring(0,1))return n.substring(1)},t.getSelector=function(e){if("string"!=typeof e)return e;var n=t.getIdFromSelector(e);return n?document.getElementById(n):document.querySelectorAll(e)},t.isNodeList=function(t){return!!t&&Object.prototype.isPrototypeOf.call(NodeList.prototype,t)},t.prototype.getFirstEl=function(){return t.isNodeList(this.elements)?this.elements[0]:this.elements},t.prototype.each=function(e){return this.elements?(t.isNodeList(this.elements)?[].slice.call(this.elements).forEach((function(t,n){e.call(t,t,n)})):e.call(this.element,this.element,0),this):this},t.prototype.on=function(e,n,r){var i=this;return e.split(" ").forEach((function(e){i.each((function(i){var o=t.setEventName(i,e),s=r;"function"==typeof(s="string"==typeof n?function(e){t.foundTarget(e.target,n)&&"function"==typeof r&&r(e)}:n)&&(Array.isArray(t.eventListeners[o])||(t.eventListeners[o]=[]),t.eventListeners[o].push(s),null==i||i.addEventListener(e.split(".")[0],s))}))})),this},t.foundTarget=function(e,n){return t.is(e,n)||t.contains(n,e)},t.createNewEvent=function(t){var e;return"function"==typeof Event?e=new Event(t):(e=document.createEvent("Event")).initEvent(t,!0,!0),e},t.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},t.setEventName=function(e,n){var r=e.eventEmitterUUID||t.generateUUID();return e.eventEmitterUUID=r,t.getEventName(n,r)},t.getElementEventName=function(e,n){var r=e.eventEmitterUUID||t.generateUUID();return e.eventEmitterUUID=r,t.getEventName(n,r)},t.getEventName=function(t,e){return t+"__EVENT_EMITTER__"+e},t.getEventNameFromId=function(t){return t.split("__EVENT_EMITTER__")[0]},t.prototype.one=function(e,n,r){var i=this;return e.split(" ").forEach((function(e){i.each((function(i){var o=function(o){new t(i).off(e),"string"==typeof n?r&&r(o):n(o)};"string"==typeof n?new t(i).on(e,n,o):new t(i).on(e,o)}))})),this},t.prototype.off=function(e){var n=this;return Object.keys(t.eventListeners).forEach((function(r){var i=t.getEventNameFromId(r);e.split(" ").forEach((function(e){t.isEventMatched(e,i)&&n.each((function(e){t.getElementEventName(e,i)===r&&(t.eventListeners[r].forEach((function(t){e.removeEventListener(i.split(".")[0],t)})),delete t.eventListeners[r])}))}))})),this},t.prototype.trigger=function(e,n){if(!this.element)return this;var r=e.split(".")[0];if(void 0!==document.body["on"+r])return this.each((function(e){null==e||e.dispatchEvent(t.createNewEvent(r))})),this;var i=new CustomEvent(r,{detail:n||null});return this.each((function(t){null==t||t.dispatchEvent(i)})),this},t.contains=function(e,n){var r=!1;return new t(e).each((function(t){t!==n&&t.contains(n)&&(r=!0)})),r},t.is=function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)},t.isEventMatched=function(t,e){var n=e.split(".");return t.split(".").filter((function(t){return t})).every((function(t){return-1!==n.indexOf(t)}))},t}();return t.eventListeners={},function(e){return new t(e)}}));
//# sourceMappingURL=tiny-events.min.js.map
