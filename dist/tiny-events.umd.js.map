{"version":3,"file":"tiny-events.umd.js","sources":["../src/tiny-events.ts","../src/index.ts"],"sourcesContent":["export type Selector = EventTarget | NodeList | string | null;\nexport type TinyEventsElements = EventTarget | NodeList | null;\nexport type TinyEventsElement = EventTarget | Node | null;\ninterface EventListener {\n    (evt: Event): void;\n}\ninterface MatchesElement extends Element {\n    matchesSelector(selectors: string): boolean;\n    msMatchesSelector(selectors: string): boolean;\n    mozMatchesSelector(selectors: string): boolean;\n    webkitMatchesSelector(selectors: string): boolean;\n    oMatchesSelector(selectors: string): boolean;\n}\n\nexport interface TinyEventsNode extends Node {\n    eventEmitterUUID: string;\n}\n// Custom event polyfill for old browsers\n// eslint-disable-next-line func-names\n(function () {\n    /* istanbul ignore next */\n    if (typeof window.CustomEvent === 'function') return false;\n\n    /* istanbul ignore next */\n    function CustomEvent(\n        event: string,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        params: { bubbles: boolean; cancelable: boolean; detail: any },\n    ) {\n        /* istanbul ignore next */\n        // eslint-disable-next-line no-param-reassign\n        params = params || { bubbles: false, cancelable: false, detail: null };\n        const evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(\n            event,\n            params.bubbles,\n            params.cancelable,\n            params.detail,\n        );\n        return evt;\n    }\n\n    /* istanbul ignore next */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (window as any).CustomEvent = CustomEvent;\n})();\n// eslint-disable-next-line import/prefer-default-export\nexport class TinyEvents {\n    elements: TinyEventsElements;\n\n    element: TinyEventsElement;\n\n    static eventListeners: { [x: string]: EventListener[] };\n\n    constructor(selector: Selector) {\n        this.elements = TinyEvents.getSelector(selector);\n        this.element = this.getFirstEl();\n        return this;\n    }\n\n    static getIdFromSelector(selector: string): string | undefined {\n        const selectors = selector.split(' ');\n        const lastSelector = selectors[selectors.length - 1];\n        const fl = lastSelector.substring(0, 1);\n        if (fl === '#') {\n            return lastSelector.substring(1);\n        }\n    }\n\n    static getSelector(selector: Selector): TinyEventsElements {\n        if (typeof selector !== 'string') {\n            return selector;\n        }\n\n        // For performance reasons, use getElementById\n        const id = TinyEvents.getIdFromSelector(selector);\n        if (id) {\n            return document.getElementById(id);\n        }\n        return document.querySelectorAll(selector);\n    }\n\n    static isNodeList(elements: TinyEventsElements): boolean {\n        if (!elements) {\n            return false;\n        }\n        return Object.prototype.isPrototypeOf.call(\n            NodeList.prototype,\n            elements,\n        );\n    }\n\n    getFirstEl(): Node {\n        if (TinyEvents.isNodeList(this.elements)) {\n            return (this.elements as NodeList)[0];\n        }\n        return this.elements as Node;\n    }\n\n    each(func: (el: TinyEventsElement, index: number) => void): this {\n        if (!this.elements) {\n            return this;\n        }\n        if (TinyEvents.isNodeList(this.elements)) {\n            [].slice\n                .call(this.elements as ArrayLike<Node>)\n                .forEach((el, index) => {\n                    func.call(el, el, index);\n                });\n        } else {\n            func.call(this.element, this.element, 0);\n        }\n        return this;\n    }\n\n    on(\n        eventNames: string,\n        selector: EventListener | string,\n        listener?: EventListener,\n    ): this {\n        // Manage multiple events\n        eventNames.split(' ').forEach((eventName) => {\n            this.each((el) => {\n                const tNEventName = TinyEvents.setEventName(\n                    el as TinyEventsNode,\n                    eventName,\n                );\n\n                let listenerFn = listener;\n                if (typeof selector === 'string') {\n                    listenerFn = (evt: Event) => {\n                        if (TinyEvents.foundTarget(evt.target, selector)) {\n                            if (typeof listener === 'function') {\n                                listener(evt);\n                            }\n                        }\n                    };\n                } else {\n                    listenerFn = selector;\n                }\n\n                if (typeof listenerFn === 'function') {\n                    if (\n                        !Array.isArray(TinyEvents.eventListeners[tNEventName])\n                    ) {\n                        TinyEvents.eventListeners[tNEventName] = [];\n                    }\n                    TinyEvents.eventListeners[tNEventName].push(listenerFn);\n\n                    // https://github.com/microsoft/TypeScript/issues/28357\n                    el?.addEventListener(\n                        eventName.split('.')[0],\n                        listenerFn as EventListener,\n                    );\n                }\n            });\n        });\n\n        return this;\n    }\n\n    static foundTarget(target: EventTarget | null, selector: string): boolean {\n        return (\n            TinyEvents.is(target as MatchesElement, selector) ||\n            TinyEvents.contains(selector, target as Node)\n        );\n    }\n\n    static createNewEvent(eventName: string): Event {\n        let event;\n        /* istanbul ignore next */\n        if (typeof Event === 'function') {\n            event = new Event(eventName);\n        } else {\n            /* istanbul ignore next */\n            event = document.createEvent('Event');\n            /* istanbul ignore next */\n            event.initEvent(eventName, true, true);\n        }\n        return event;\n    }\n\n    static generateUUID(): string {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n            const r = (Math.random() * 16) | 0;\n            const v = c === 'x' ? r : (r & 0x3) | 0x8;\n            return v.toString(16);\n        });\n    }\n\n    static setEventName(el: TinyEventsNode, eventName: string): string {\n        // Need to verify https://stackoverflow.com/questions/1915341/whats-wrong-with-adding-properties-to-dom-element-objects\n        const elementUUId = el.eventEmitterUUID;\n        const uuid = elementUUId || TinyEvents.generateUUID();\n        // eslint-disable-next-line no-param-reassign\n        el.eventEmitterUUID = uuid;\n        return TinyEvents.getEventName(eventName, uuid);\n    }\n\n    static getElementEventName(el: TinyEventsNode, eventName: string): string {\n        const elementUUId = el.eventEmitterUUID;\n        /* istanbul ignore next */\n        const uuid = elementUUId || TinyEvents.generateUUID();\n        // eslint-disable-next-line no-param-reassign\n        el.eventEmitterUUID = uuid;\n        return TinyEvents.getEventName(eventName, uuid);\n    }\n\n    static getEventName(eventName: string, uuid: string): string {\n        return `${eventName}__EVENT_EMITTER__${uuid}`;\n    }\n\n    static getEventNameFromId(eventName: string): string {\n        return eventName.split('__EVENT_EMITTER__')[0];\n    }\n\n    one(\n        eventNames: string,\n        selector: EventListener | string,\n        listener?: EventListener,\n    ): this {\n        eventNames.split(' ').forEach((eventName) => {\n            this.each((el) => {\n                const listnerFn = (evt: Event) => {\n                    new TinyEvents(el).off(eventName);\n                    if (typeof selector === 'string') {\n                        if (listener) {\n                            listener(evt);\n                        }\n                    } else {\n                        selector(evt);\n                    }\n                };\n\n                if (typeof selector === 'string') {\n                    new TinyEvents(el).on(eventName, selector, listnerFn);\n                } else {\n                    new TinyEvents(el).on(eventName, listnerFn);\n                }\n            });\n        });\n        return this;\n    }\n\n    off(eventNames: string): this {\n        Object.keys(TinyEvents.eventListeners).forEach((tNEventName) => {\n            const currentEventName = TinyEvents.getEventNameFromId(tNEventName);\n            eventNames.split(' ').forEach((eventName) => {\n                if (TinyEvents.isEventMatched(eventName, currentEventName)) {\n                    this.each((el) => {\n                        if (\n                            TinyEvents.getElementEventName(\n                                el as TinyEventsNode,\n                                currentEventName,\n                            ) === tNEventName\n                        ) {\n                            TinyEvents.eventListeners[tNEventName].forEach(\n                                (listener) => {\n                                    (el as HTMLElement).removeEventListener(\n                                        currentEventName.split('.')[0],\n                                        listener,\n                                    );\n                                },\n                            );\n                            delete TinyEvents.eventListeners[tNEventName];\n                        }\n                    });\n                }\n            });\n        });\n        return this;\n    }\n\n    trigger(event: string, detail?: unknown): this {\n        if (!this.element) {\n            return this;\n        }\n        const eventName = event.split('.')[0];\n        const isNativeEvent =\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            typeof (document.body as any)[`on${eventName}`] !== 'undefined';\n        if (isNativeEvent) {\n            this.each((el) => {\n                el?.dispatchEvent(TinyEvents.createNewEvent(eventName));\n            });\n            return this;\n        }\n        const customEvent = new CustomEvent(eventName, {\n            detail: detail || null,\n        });\n        this.each((el) => {\n            el?.dispatchEvent(customEvent);\n        });\n        return this;\n    }\n\n    static contains(selector: string, child: Node): boolean {\n        let found = false;\n        // eslint-disable-next-line no-use-before-define\n        new TinyEvents(selector).each((el) => {\n            if (el !== child && (el as Node).contains(child)) {\n                found = true;\n            }\n        });\n        return found;\n    }\n\n    static is(el: MatchesElement, otherEl: string): boolean {\n        /* istanbul ignore next */\n        return (\n            el.matches ||\n            el.matchesSelector ||\n            el.msMatchesSelector ||\n            el.mozMatchesSelector ||\n            el.webkitMatchesSelector ||\n            el.oMatchesSelector\n        ).call(el, otherEl);\n    }\n\n    static isEventMatched(event: string, eventName: string): boolean {\n        const eventNamespace = eventName.split('.');\n        return event\n            .split('.')\n            .filter((e) => e)\n            .every((e) => eventNamespace.indexOf(e) !== -1);\n    }\n}\n\nTinyEvents.eventListeners = {};\n","import { Selector, TinyEvents } from './tiny-events';\n\nfunction tinyEvents(selector: Selector): TinyEvents {\n    return new TinyEvents(selector);\n}\nexport default tinyEvents;\n"],"names":[],"mappings":"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"}